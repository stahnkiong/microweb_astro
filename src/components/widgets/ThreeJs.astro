---
import { Icon } from "astro-icon/components";

---
<script type="module" src="/threejs/index-ijKtfBqX.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    if (window.DeviceOrientationEvent) {
      window.addEventListener('deviceorientation', function(event) {
        if (event.alpha !== null || event.beta !== null || event.gamma !== null) {
          const devicecontrolElement = document.getElementById('devicecontrol');
          const deviceSvg = document.getElementById('devicesvg');
          if (devicecontrolElement) {
            devicecontrolElement.innerHTML = 'Device Tilt';
          }
          if (deviceSvg) {
              deviceSvg.innerHTML = '<svg width="1em" height="1em" viewBox="0 0 32 32" class="w-5 h-5 mr-2" data-icon="carbon:mobile-view-orientation"><path fill="currentColor" d="M28 12h-8v2h8v14h-8v2h8c1.103 0 2-.897 2-2V14c0-1.102-.897-2-2-2"></path><path fill="currentColor" d="m19 16l-1.414 1.414L20.172 20H16c-2.206 0-4-1.794-4-4v-2h-2v2c0 3.309 2.692 6 6 6h4.172l-2.586 2.586L19 26l5-5z"></path><path fill="currentColor" d="M12 28H6V8h16V4c0-1.103-.897-2-2-2H6c-1.103 0-2 .897-2 2v24c0 1.103.897 2 2 2h6zM6 4h14v2H6z"></path>  </svg> View Control:';
          }
        }
      });
    }
    window.addEventListener('scroll', function() {
      const scrollTop =  document.documentElement.scrollTop;
      const element = document.getElementById('side-panel');
      if (element) {
        element.style.bottom = (scrollTop * 0.12) + 'px';
      }
    });
  });
</script>
<div id="dimension" class="fixed h-full -z-10 dark:brightness-[0.4] dark:contrast-[1.5] transition duration-700">
</div>
<div id="side-panel" class="fixed right-1 bottom-12 md:bottom-20 text-right">
  <div id="autopilot" class="-z-10 mb-1 px-2.5 py-1 md:px-5 md:py-3 rounded-xl backdrop-blur-xl border border-green-100/20 bg-green-300/15 dark:bg-white/10 dark:border-green-950/15 "><div class="flex justify-between font-semibold text-xs"><Icon name="carbon:drone" class="w-5 h-5 mr-2 translate-y-2"/>Autopilot:</div><div class="text-sm">Engaged</div> </div>
  <div class="-z-10 px-2.5 py-1 md:px-5 md:py-3 rounded-xl backdrop-blur-xl border border-green-100/20 bg-green-300/15 dark:bg-white/10 dark:border-green-950/15 "><div id="devicesvg" class="flex justify-between font-semibold text-xs"><Icon name="carbon:cursor-1" class="w-5 h-5 mr-2 translate-y-2"/>View Control:</div><div id="devicecontrol" class="text-sm">Cursor</div> </div>
</div>
